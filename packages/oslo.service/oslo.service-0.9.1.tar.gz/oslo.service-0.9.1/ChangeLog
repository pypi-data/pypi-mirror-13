CHANGES
=======

0.9.1
-----

* Fix race condition on handling signals
* Fix a race condition in signal handlers
* Updated from global requirements
* ThreadGroup's stop didn't recognise the current thread correctly
* doing monkey_patch for unittest
* Updated from global requirements
* Update .gitreview for stable/liberty

0.9.0
-----

* Handling corner cases in dynamic looping call
* Change DEBUG log in loopingcall to TRACE level log
* Updated from global requirements

0.8.0
-----

* Added wsgi functionality

0.7.0
-----

* Updated from global requirements
* Update "Signal handling" section of usage docs
* Use oslo_utils reflection to get 'f' callable name
* Updated from global requirements
* Prefix the 'safe_wrapper' function to be '_safe_wrapper'
* Setup translations
* Check that sighup is supported before accessing signal.SIGHUP
* Use contextlib.closing instead of try ... finally: sock.close
* Avoid using the global lockutils semaphore collection
* Updated from global requirements

0.6.0
-----

* Added newline at end of file
* Added class SignalHandler
* Updated from global requirements
* Activate pep8 check that _ is imported
* Denote what happens when no exceptions are passed in
* Allow LoopingCall to continue on exception in callee

0.5.0
-----

* Updated from global requirements
* Updated from global requirements
* Updated from global requirements
* Add oslo_debug_helper to tox.ini
* Add usage documentation for oslo_service.service module

0.4.0
-----

* Updated from global requirements
* save docstring, name etc using six.wraps
* Move backdoor-related tests from test_service
* Add mock to test_requirements
* Remove usage of mox in test_eventlet_backdoor

0.3.0
-----

* Copy RetryDecorator from oslo.vmware
* Increase test coverage of systemd
* Ensure we set the event and wait on the timer in the test
* Make it easier to use the eventlet backdoor locally
* Track created thread and disallow more than one start being active

0.2.0
-----

* Documentation on the use of the oslo-config-generator
* Add greenlet to requirements
* Add tox target to find missing requirements
* Enforce H405 check
* Enforce H301 check
* Return timer after adding it to internal list
* Updated from global requirements
* Have all the looping calls share a common run loop
* Move service abstract base class check to launch_service methods
* Fix a typo in a comment
* Updated from global requirements
* Use a signal name->sigval and sigval->signal name mapping

0.1.0
-----

* Test for instantaneous shutdown fixed
* Graceful shutdown WSGI/RPC server
* Use monotonic.monotonic and stopwatches instead of time.time
* Updated from global requirements
* Eventlet service fixed
* Add documentation for the service module
* Improve test coverage for loopingcall module
* Add oslo.service documentation
* Remove usage of global CONF
* Make logging option values configurable
* Introduce abstract base class for services
* Add entrypoints for option discovery
* Updated from global requirements
* Move the option definitions into a private file
* Fix unit tests
* Fix pep8
* exported from oslo-incubator by graduate.sh
* Clean up logging to conform to guidelines
* Port service to Python 3
* Test for shutting down eventlet server on signal
* service child process normal SIGTERM exit
* Revert "Revert "Revert "Optimization of waiting subprocesses in ProcessLauncher"""
* Revert "Revert "Optimization of waiting subprocesses in ProcessLauncher""
* Revert "Optimization of waiting subprocesses in ProcessLauncher"
* ProcessLauncher: reload config file in parent process on SIGHUP
* Add check to test__signal_handlers_set
* Store ProcessLauncher signal handlers on class level
* Remove unused validate_ssl_version
* Update tests for optional sslv3
* Fixed ssl.PROTOCOL_SSLv3 not supported by Python 2.7.9
* Optimization of waiting subprocesses in ProcessLauncher
* Switch from oslo.config to oslo_config
* Change oslo.config to oslo_config
* Remove oslo.log code and clean up versionutils API
* Replace mox by mox3
* Allow overriding name for periodic tasks
* Separate add_periodic_task from the metaclass __init__
* Upgrade to hacking 0.10
* Remove unnecessary import of eventlet
* Added graceful argument on Service.stop method
* Remove extra white space in log message
* Prefer delayed %r formatting over explicit repr use
* ServiceRestartTest: make it more resilient
* threadgroup: don't log GreenletExit
* add list_opts to all modules with configuration options
* Remove code that moved to oslo.i18n
* Remove graduated test and fixtures libraries
* rpc, notifier: remove deprecated modules
* Let oslotest manage the six.move setting for mox
* Remove usage of readlines()
* Allow test_service to run in isolation
* Changes calcuation of variable delay
* Use timestamp in loopingcall
* Remove unnecessary setUp function
* Log the function name of looping call
* pep8: fixed multiple violations
* Make periodic tasks run on regular spacing interval
* Use moxstubout and mockpatch from oslotest
* Implement stop method in ProcessLauncher
* Fix parenthesis typo misunderstanding in periodic_task
* Fix docstring indentation in systemd
* Remove redundant default=None for config options
* Make unspecified periodic spaced tasks run on default interval
* Make stop_timers() method public
* Remove deprecated LoopingCall
* Fixed several typos
* Add graceful stop function to ThreadGroup.stop
* Use oslotest instead of common test module
* Remove duplicated "caught" message
* Move notification point to a better place
* Remove rendundant parentheses of cfg help strings
* Adds test condition in test_periodic
* Fixed spelling error - occured to occurred
* Add missing _LI for LOG.info in service module
* notify calling process we are ready to serve
* Reap child processes gracefully if greenlet thread gets killed
* Improve help strings for sslutils module
* Remove unnecessary usage of noqa
* Removes use of timeutils.set_time_override
* Update oslo log messages with translation domains
* Refactor unnecessary arithmetic ops in periodic_task
* Refactor if logic in periodic_task
* Use timestamp in periodic tasks
* Add basic Python 3 tests
* Clear time override in test_periodic
* Don't share periodic_task instance data in a class attr
* Revert "service: replace eventlet event by threading"
* Simplify launch method
* Simple typo correction
* Cleanup unused log related code
* Utilizes assertIsNone and assertIsNotNone
* Fix filter() usage due to python 3 compability
* Use hacking import_exceptions for gettextutils._
* threadgroup: use threading rather than greenthread
* disable SIGHUP restart behavior in foreground
* service: replace eventlet event by threading
* Allow configurable ProcessLauncher liveness check
* Make wait & stop methods work on all threads
* Typos fix in db and periodic_task module
* Remove vim header
* os._exit in _start_child may cause unexpected exception
* Adjust import order according to PEP8 imports rule
* Add a link method to Thread
* Use multiprocessing.Event to ensure services have started
* Apply six for metaclass
* Removed calls to locals()
* Move comment in service.py to correct location
* Fixes issue with SUGHUP in services on Windows
* Replace using tests.utils part2
* Bump hacking to 0.7.0
* Replace using tests.utils with openstack.common.test
* Refactors boolean returns
* Add service restart function in oslo-incubator
* Fix stylistic problems with help text
* Enable H302 hacking check
* Convert kombu SSL version string into integer
* Allow launchers to be stopped multiple times
* Ignore any exceptions from rpc.cleanup()
* Add graceful service shutdown support to Launcher
* Improve usability when backdoor_port is nonzero
* Enable hacking H404 test
* Enable hacking H402 test
* Enable hacking H401 test
* Fixes import order nits
* Add DynamicLoopCall timers to ThreadGroups
* Pass backdoor_port to services being launched
* Improve python3 compatibility
* Use print_function __future__ import
* Improve Python 3.x compatibility
* Import nova's looping call
* Copy recent changes in periodic tasks from nova
* Fix IBM copyright strings
* Removes unused imports in the tests module
* update OpenStack, LLC to OpenStack Foundation
* Add function for listing native threads to eventlet backdoor
* Use oslo-config-2013.1b3
* Support for SSL in wsgi.Service
* Replace direct use of testtools BaseTestCase
* Use testtools as test base class
* ThreadGroup remove unused name parameters
* Implement importutils.try_import
* Fix test cases in tests.unit.test_service
* Don't rely on os.wait() blocking
* Use Service thread group for WSGI request handling
* Make project pyflakes clean
* Replace try: import with extras.try_import
* raise_on_error parameter shouldn't be passed to task function
* Account for tasks duration in LoopingCall delay
* updating sphinx documentation
* Enable eventlet_backdoor to return port
* Use the ThreadGroup for the Launcher
* Change RPC cleanup ordering
* threadgroup : greethread.cancel() should be kill()
* Use spawn_n when not capturing return value
* Make ThreadGroup derived from object to make mocking possible
* Don't log exceptions for GreenletExit and thread_done
* Log CONF from ProcessLauncher.wait, like ServiceLauncher
* Import order clean-up
* Added a missing `cfg` import in service.py
* Log config on startup
* Integrate eventlet backdoor
* Add the rpc service and delete manager
* Use pep8 v1.3.3
* Add threadgroup to manage timers and greenthreads
* Add basic periodic task infrastructure
* Add multiprocess service launcher
* Add signal handling to service launcher
* Basic service launching infrastructure
* Move manager.py and service.py into common
* Copy eventlet_backdoor into common from nova
* Copy LoopingCall from nova for service.py
* initial commit
* Initial skeleton project
