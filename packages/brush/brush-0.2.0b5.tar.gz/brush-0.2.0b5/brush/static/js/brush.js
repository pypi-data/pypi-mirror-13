webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(158),f=r(c),p=n(159),h=(n(206),n(448)),d=n(450),v=r(d),y=n(451),m=r(y),b=n(453),_=r(b),g=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.stream=n.connect(),n}return a(t,e),s(t,[{key:"connect",value:function(){var e=!0,t=new EventSource("/stream");return t.onmessage=function(t){var n=JSON.parse(t.data);e&&(h.store.addKeys(n),h.longTermStore.addKeys(n),e=!1),h.store.update(n),h.longTermStore.update(n)},t}},{key:"render",value:function(){return l["default"].createElement("div",null,l["default"].createElement(v["default"],null),this.props.children)}}]),t}(l["default"].Component);window.onload=function(){function e(){var e=void 0,t=window.location.href;t.indexOf("status")>0?e="status":t.indexOf("longterm")>0&&(e="longterm"),h.store.set("activeRoute",e)}f["default"].render(l["default"].createElement(p.Router,null,l["default"].createElement(p.Route,{path:"/",component:g},l["default"].createElement(p.IndexRedirect,{to:"/status"}),l["default"].createElement(p.Route,{path:"status",component:m["default"],onEnter:e}),l["default"].createElement(p.Route,{path:"longterm",component:_["default"],onEnter:e}))),document.querySelector("#app"))}},448:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.longTermStore=t.store=void 0;var s=n(449),u=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e._store={},e}return i(t,e),a(t,[{key:"addKeys",value:function(e){for(var t in e)this._store[t]=null}},{key:"update",value:function(e){for(var t in e)this._store[t]=e[t],this.emit(t,e[t])}},{key:"set",value:function(e,t){this._store[e]=t,this.emit(e,t)}},{key:"get",value:function(e){return this._store[e]}}]),t}(s.EventEmitter),l=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?-1:arguments[0];r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this));return n.maxLength=e,n}return i(t,e),a(t,[{key:"addKeys",value:function(e){for(var t in e)this._store[t]=[]}},{key:"update",value:function(e){for(var t in e)this.maxLength>0&&this._store[t].length==this.maxLength&&this._store[t].shift(),this._store[t].push(e[t]),this.emit(t,e[t])}},{key:"clear",value:function(){for(var e in this._store)this._store[e]=[]}}]),t}(u),c=new u,f=new l(300);t.store=c,t.longTermStore=f},449:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,u=0;o>u;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},450:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=r(u),c=n(206),f=n(448),p=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={activeRoute:f.store.get("activeRoute")},n.onRouteChange=n.onRouteChange.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){f.store.on("activeRoute",this.onRouteChange)}},{key:"componentWillUnmount",value:function(){f.store.removeListener("activeRoute",this.onRouteChange)}},{key:"onRouteChange",value:function(e){this.setState({activeRoute:e})}},{key:"render",value:function(){var e="status"==this.state.activeRoute?!0:!1,t="longterm"==this.state.activeRoute?!0:!1;return l["default"].createElement(c.Navbar,null,l["default"].createElement(c.Navbar.Header,null,l["default"].createElement(c.Navbar.Brand,null,l["default"].createElement("a",{href:"/"},l["default"].createElement("img",{src:"/static/img/brush.svg",alt:"brush",height:"20em"}))),l["default"].createElement(c.Navbar.Toggle,null)),l["default"].createElement(c.Navbar.Collapse,null,l["default"].createElement(c.Nav,null,l["default"].createElement(c.NavItem,{eventKey:1,active:e,href:"#/status"},"Status"),l["default"].createElement(c.NavItem,{eventKey:2,active:t,href:"#/longterm"},"Charts"))))}}]),t}(l["default"].Component);t["default"]=p},451:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=r(u),c=n(452),f=r(c),p=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",{id:"status-route"},l["default"].createElement(f["default"],{name:"Repetition rate",dataKey:"reprate_freq",decimals:4,lockedKey:"lb1_status"}),l["default"].createElement(f["default"],{name:"Offset",dataKey:"offset_freq",decimals:4,lockedKey:"lb2_status"}))}}]),t}(l["default"].Component);t["default"]=p},452:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=r(u),c=n(206),f=n(448),p=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e)),r="Retrieving...",a=!1;try{r=f.store.get(n.props.dataKey),a=f.store.get(n.props.dataKey)}catch(s){}return n.state={value:r,locked:a},n.onNewData=n.onNewData.bind(n),n.onLockStateChange=n.onLockStateChange.bind(n),n}return a(t,e),s(t,[{key:"onNewData",value:function(e){this.setState({value:e})}},{key:"onLockStateChange",value:function(e){this.setState({locked:e})}},{key:"componentDidMount",value:function(){f.store.on(this.props.lockedKey,this.onLockStateChange),f.store.on(this.props.dataKey,this.onNewData)}},{key:"componentWillUnmount",value:function(){f.store.removeListener(this.props.lockedKey,this.onLockStateChange),f.store.removeListener(this.props.dataKey,this.onNewData)}},{key:"render",value:function(){var e=this.state.locked?"ok-circle":"ban-circle",t=this.state.locked?"green":"red",n=this.state.locked?"Locked":"Unlocked",r=this.state.value;return this.props.hasOwnProperty("lockedKey")||(t="white-out"),this.props.hasOwnProperty("decimals")&&this.state.value&&(r=r.toFixed(this.props.decimals)),l["default"].createElement("div",null,l["default"].createElement(c.PageHeader,null,l["default"].createElement(c.Glyphicon,{className:t,glyph:e,title:n}),this.props.name),l["default"].createElement(c.Jumbotron,{className:"display"},l["default"].createElement("h1",null,r)))}}]),t}(l["default"].Component);t["default"]=p,p.propTypes={name:l["default"].PropTypes.string.isRequired,dataKey:l["default"].PropTypes.string.isRequired,lockedKey:l["default"].PropTypes.string,decimals:l["default"].PropTypes.number}},453:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=r(u),c=n(454),f=r(c),p=n(448),h=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=p.longTermStore.get("reprate_freq"),t=p.longTermStore.get("offset_freq");return l["default"].createElement("div",{id:"chart-route"},l["default"].createElement(f["default"],{initialData:e,dataKey:"reprate_freq"}),l["default"].createElement(f["default"],{initialData:t,dataKey:"offset_freq"}))}}]),t}(l["default"].Component);t["default"]=h},454:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=r(u),c=n(206),f=n(455),p=r(f),h=n(448),d=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={data:n.props.initialData},n.onNewData=n.onNewData.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){h.longTermStore.on(this.props.dataKey,this.onNewData)}},{key:"componentWillUnmount",value:function(){h.longTermStore.removeListener(this.props.dataKey,this.onNewData)}},{key:"onNewData",value:function(e){var t=this.state.data;t.push(e),this.setState({data:t})}},{key:"render",value:function(){var e={labels:h.longTermStore.get("timestamp"),series:[this.state.data]},t={axisX:{labelInterpolationFnc:function(e,t){var n=new Date(1e3*e);return 0===n.getSeconds()?n.toTimeString().split(" ")[0]:null},showGrid:!0},axisY:{showGrid:!0},lineSmooth:!1,showPoint:!1};return l["default"].createElement("div",null,l["default"].createElement(c.PageHeader,null,l["default"].createElement("small",null,this.props.dataKey)),l["default"].createElement(p["default"],{data:e,options:t,type:"Line"}))}}]),t}(l["default"].Component);t["default"]=d,d.propTypes={dataKey:l["default"].PropTypes.string.isRequired,initialData:l["default"].PropTypes.array.isRequired}}});