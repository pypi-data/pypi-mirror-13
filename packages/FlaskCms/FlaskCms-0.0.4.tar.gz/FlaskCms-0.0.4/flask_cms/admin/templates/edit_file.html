    {% extends 'admin.html' %}
    {% block extra_head %}
        <style>
            #editor {
                height:300px;
                width:400px;
            }
        </style>
    {% endblock extra_head %}
    {% block body %}
        {% if content %}
                <div id="content" style="display:none;">
                    {{ content }}
                </div>
            {% endif %}
            
        {% if form %}
        <form method="post">
            {{ form.hidden_tag() }}
            {{ form.content(class=_editor) }}
        <div>
       </div>
       {{ get_button('save_btn') }}
   </form>
        {% endif %}
        {% endblock %}
        {% block footer_js %}
        <script src="http://code.jquery.com/jquery.js"></script>
        {{ super() }}
        <script type="text/javascript">
            $(function(){
                if ($("#content").length > 0) {
                        $("textarea").ckeditor().val($.trim($("#content").text()));                    
                }
            });
        </script>
        <script type="text/javascript" src="{{url_for('static',filename='js/save.js')}}"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                /*if($("#text").length > 1)
                    var t = $("#text").text();
                    if($(t).length > 0){
                    CKEDITOR.instances.body_body.insertHtml(t);
                }
        /*        var editor_for_body_body = CodeMirror.fromTextArea(
                    document.getElementById("body-body"),
                    {value:t,lineNumbers:true,mode:"htmlmixed",language:"python"}
                    );
                    editor_for_body_body.setValue(t);*/

//                var editor = ace.edit("editor");
  //              editor.setTheme("ace/theme/twilight");
    //            editor.getSession().setMode("ace/mode/javascript");
                /*
                $("#base_template").on("change",function(){
                    var f = $(this).val();
                    var res = $.getJSON(
                        '/admin/get/template',{'filename':f}
                    );
                    if(res['result'] == 'success') {
                        editor.setValue(res['content']);
                        };
                    });
                });
        $(".close").click(function(){
            $(".myModal").hide();    
        });
        $(".edit").click(function(){
                var modal = $("<div>").addClass("modal-fade")
                                        .addClass("myModal")
                                        .attr("id","myModal")
                                        .append($("<div>").addClass("modal-dialog")
                                            .append($("<div>").addClass("modal-content")
                                                .append($("<div>").addClass("modal-header")
                                                    .append($("<button>").addClass("close")
                                                        .attr("data-dismiss","#myModal")
                                                        .attr("data-toggle","modal")
                                                        //.attr("data-target","#myModal")
                                                        .append($("<span>")
                                                            .attr("aria-hidden",true)
                                                            .html("&times;"))
                                                        .append($("<span>")
                                                            .addClass("sr-only")
                                                            .text("close")))
                                                    .append($("<h4>").addClass("modal-title")
                                                        .text("title")))
                                                .append($("<div>").addClass("modal-body")
                                                    .append($("<p>").text("my modal")))
                                                .append($("<div>").addClass("modal-footer")
                                                    .append($("<button>").addClass("btn")
                                                        .addClass("btn-default")
                                                        .attr("data-dismiss","myModal")
                                                        .text("close")
                                                        .attr("type","button"))
                                                    .append($("<button>").addClass("btn")
                                                        .addClass("btn-primary")
                                                        .text("save"))))).appendTo($("body"));
        $(".myModal").hide();
        $(".myModal").show();*/
        });
        </script>
        {% endblock footer_js %}
