

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nvector.objects.FrameB &mdash; nvector 0.4.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="nvector 0.4.1 documentation" href="../../index.html"/>
        <link rel="up" title="nvector package" href="../nvector.html"/>
        <link rel="next" title="nvector.objects.ECEFvector" href="nvector.objects.ECEFvector.html"/>
        <link rel="prev" title="nvector.objects.FrameL" href="nvector.objects.FrameL.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> nvector</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html">Introduction to Nvector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#description">Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#documentation-and-code">Documentation and code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#installation-and-upgrade">Installation and upgrade:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#unit-tests">Unit tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#acknowledgement">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/overview.html#see-also">See also</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../src/getting_started_functional.html">     Functional examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changes.html#version-0-4-1-januar-19-2016">Version 0.4.1, Januar 19, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes.html#version-0-1-3-januar-1-2016">Version 0.1.3, Januar 1, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes.html#version-0-1-1-januar-1-2016">Version 0.1.1, Januar 1, 2016</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Module Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../nvector.html">nvector package</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">nvector</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../modules.html">Modules</a> &raquo;</li>
      
          <li><a href="../nvector.html">nvector package</a> &raquo;</li>
      
    <li>nvector.objects.FrameB</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/api/generated/nvector.objects.FrameB.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="nvector-objects-frameb">
<h1>nvector.objects.FrameB<a class="headerlink" href="#nvector-objects-frameb" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="nvector.objects.FrameB">
<em class="property">class </em><code class="descclassname">nvector.objects.</code><code class="descname">FrameB</code><span class="sig-paren">(</span><em>position</em>, <em>yaw=0</em>, <em>pitch=0</em>, <em>roll=0</em>, <em>degrees=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nvector/objects.html#FrameB"><span class="viewcode-link">[source]</span></a><a class="reference external" href="http://github.com/pbrod/nvector/blob/v0.4.1/nvector/objects.py#L869-L920"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nvector.objects.FrameB" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Body frame</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>position: ECEFvector, GeoPoint or Nvector object</strong></p>
<blockquote class="last">
<div><blockquote>
<div><p>position of the vehicle&#8217;s reference point which also coincides with
the origin of the frame B.</p>
</div></blockquote>
<dl class="docutils">
<dt>yaw, pitch, roll: real scalars</dt>
<dd><p class="first last">defining the orientation of frame B in [deg] or [rad].</p>
</dd>
<dt>degrees <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">if True yaw, pitch, roll are given in degrees otherwise in radians</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The frame is fixed to the vehicle where the x-axis points forward, the
y-axis to the right (starboard) and the z-axis in the vehicle&#8217;s down
direction.</p>
<p class="rubric">Examples</p>
<p><strong>Example 2: &#8220;B and delta to C&#8221;</strong></p>
<img alt="http://www.navlab.net/images/ex2img.png" src="http://www.navlab.net/images/ex2img.png" />
<p>A radar or sonar attached to a vehicle B (Body coordinate frame) measures the
distance and direction to an object C. We assume that the distance and two
angles (typically bearing and elevation relative to B) are already combined to
the vector p_BC_B (i.e. the vector from B to C, decomposed in B). The position
of B is given as n_EB_E and z_EB, and the orientation (attitude) of B is given
as R_NB (this rotation matrix can be found from roll/pitch/yaw by using zyx2R).</p>
<p>Find the exact position of object C as n-vector and depth ( n_EC_E and z_EC ),
assuming Earth ellipsoid with semi-major axis a and flattening f. For WGS-72,
use a = 6 378 135 m and f = 1/298.26.</p>
<dl class="docutils">
<dt>Solution:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nvector</span> <span class="kn">as</span> <span class="nn">nv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs72</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameE</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;WGS72&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs72</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameE</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">6378135</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">298.26</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Step 1: Position and orientation of B is given 400m above E:</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n_EB_E</span> <span class="o">=</span> <span class="n">wgs72</span><span class="o">.</span><span class="n">Nvector</span><span class="p">(</span><span class="n">nv</span><span class="o">.</span><span class="n">unit</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]),</span> <span class="n">z</span><span class="o">=-</span><span class="mi">400</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Step 2: Delta BC decomposed in B</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">frame_B</span> <span class="o">=</span> <span class="n">nv</span><span class="o">.</span><span class="n">FrameB</span><span class="p">(</span><span class="n">n_EB_E</span><span class="p">,</span> <span class="n">yaw</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">roll</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_BC_B</span> <span class="o">=</span> <span class="n">frame_B</span><span class="o">.</span><span class="n">Pvector</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</dd>
<dt>Step 3: Decompose delta BC in E</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p_BC_E</span> <span class="o">=</span> <span class="n">p_BC_B</span><span class="o">.</span><span class="n">to_ecef_vector</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Step 4: Find point C by adding delta BC to EB</dt>
<dd><div class="first highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p_EB_E</span> <span class="o">=</span> <span class="n">n_EB_E</span><span class="o">.</span><span class="n">to_ecef_vector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_EC_E</span> <span class="o">=</span> <span class="n">p_EB_E</span> <span class="o">+</span> <span class="n">p_BC_E</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pointC</span> <span class="o">=</span> <span class="n">p_EC_E</span><span class="o">.</span><span class="n">to_geo_point</span><span class="p">()</span>
</pre></div>
</div>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">pointC</span><span class="o">.</span><span class="n">latitude_deg</span><span class="p">,</span> <span class="n">pointC</span><span class="o">.</span><span class="n">longitude_deg</span><span class="p">,</span> <span class="n">pointC</span><span class="o">.</span><span class="n">z</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s">&#39;Ex2: PosC: lat, lon = {:4.2f}, {:4.2f} deg,  height = {:4.2f} m&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&#39;Ex2: PosC: lat, lon = 53.33, 63.47 deg,  height = 406.01 m&#39;</span>
</pre></div>
</div>
</dd>
<dt>See also</dt>
<dd><a class="reference external" href="http://www.navlab.net/nvector/#example_2">Example 2 at www.navlab.net</a></dd>
</dl>
<dl class="method">
<dt id="nvector.objects.FrameB.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>position</em>, <em>yaw=0</em>, <em>pitch=0</em>, <em>roll=0</em>, <em>degrees=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/nvector/objects.html#FrameB.__init__"><span class="viewcode-link">[source]</span></a><a class="reference external" href="http://github.com/pbrod/nvector/blob/v0.4.1/nvector/objects.py#L899-L906"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nvector.objects.FrameB.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">Pvector</span></code>(pvector)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nvector.objects.FrameB.__init__" title="nvector.objects.FrameB.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>(position[,&nbsp;yaw,&nbsp;pitch,&nbsp;roll,&nbsp;degrees])</td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">R_EN</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nvector.objects.ECEFvector.html" class="btn btn-neutral float-right" title="nvector.objects.ECEFvector">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nvector.objects.FrameL.html" class="btn btn-neutral" title="nvector.objects.FrameL"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Norwegian Defence Research Establishment (FFI).
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.4.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>