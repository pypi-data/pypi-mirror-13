{% extends "_layout.html" %}
{% set active_page = 'context' %}

{% block title %}Context{% endblock %}

{% block javascript %}
    {% include "javascript/_editor.html" %}
    {% include "javascript/_journal.html" %}
{% endblock %}

{% block content %}
    <h1>Context: <code>{{Â context.hash }}</code></h1>

    {% for context_ in context.contexts %}
        <dl>
            <dt>Hash:</dt>
            <dd><code>{{ context_.hash }}</code></dd>
            <dt>Location:</dt>
            <dd><code><a href="{{ url_for_source(file_path=context_.filename, line=context_.line) }}" title="Show source {{ context_.filename }}:{{ context_.line }}">{{ context_.filename }}:{{ context_.line }}</a></code></dd>
        </dl>
        <div class="editor-wrapper editor-wrapper-readonly">
            <div class="editor editor-readonly" id="editor-{{ context.hash }}">
                <pre><code>{{ context_.context|safe }}</code></pre>
            </div>
        </div>
    {% endfor %}

    <h3>Matching Journal Entries</h3>
    {% with journal=context.journal %}
        {% include "_journal_table.html" %}
    {% endwith %}
{% endblock %}
