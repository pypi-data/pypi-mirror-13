Metadata-Version: 2.0
Name: autodock-hipache
Version: 0.0.2
Summary: autodock hipache plugin
Home-page: https://github.com/prologic/autodock-hipache
Author: James Mills
Author-email: James Mills, prologic at shortcircuit dot net dot au
License: MIT
Download-URL: https://github.com/prologic/autodock-hipache/archive/master.zip
Keywords: autodock hipache plugin docker
Platform: POSIX
Classifier: Development Status :: 3 - Alpha
Classifier: Environment :: Console
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: English
Classifier: Operating System :: POSIX :: BSD
Classifier: Operating System :: POSIX :: Linux
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Programming Language :: Python :: 2.6
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: Implementation :: PyPy
Requires-Dist: autodock
Requires-Dist: hipachectl

.. _a Docker-based mini-PaaS: http://shortcircuit.net.au/~prologic/blog/article/2015/03/24/a-docker-based-mini-paas/


autodock-hipache
================

.. image:: https://badge.imagelayers.io/prologic/autodock-hipache:latest.svg
   :target: https://imagelayers.io/?images=prologic/autodock-hipache:latest
   :alt: Image Layers

Hipache Plugin for autodock.

autodock-hipache is MIT licensed.

.. note:: See: `autodock <https://github.com/prologic/autodock>`_

Basic Usage
-----------

Start the daemon::

    $ docker run -d --name autodock prologic/autodock

Link and start the autodock Hipache Plugin::

    $ docker run -d --link autodock prologic/autodock-hipache

Now whenever you start a new container autodock will listen for Docker events
and discover containers that have been started. The ``autodock-hipache`` plugin
will specifically listen for starting containers that have a ``VIRTUALHOST``
environment variable and reconfigure the running ``hipache`` container.

An optional ``ALIAS`` environment value can be given as an extra virtualhost
typically used for a ``www.`` alias to a domain.

Start a "Hello World" Web Application::

    $ docker run -d -e VIRTUALHOST=hello.local prologic/hello
    curl -q -o - -H 'Host: hello.local' http://localhost/
    Hello World!

.. note:: This method of hosting and managing webapps and websites is in
          production deployments and talked about in more detail in the post
          `A Docker-based mini-PaaS`.

``docker-compose.yml``:

.. code:: yaml

   autodock:
       image: prologic/autodock
       volumes:
           - /var/run/docker.sock:/var/run/docker.sock

   autodockhipache:
       image: prologic/autodock-hipache
       links:
           - autodock
           - hipache:redis

   sslcerts:
       image: prologic/mksslcrt
       command: "*.mydomain.com"

   hipache:
       image: prologic/hipache
       ports:
           - "80:80"
           - "443:443"
       volumes_from:
           - sslcerts

   hello:
       image: prologic/hello
       environment:
           - VIRTUALHOST=hello.mydomain.com
           - ALIAS=hello.local

.. note:: The version of Hipache used here will not startup unless you have
          setup SSL certificates, so the sslcerts volume is requried for
          a correctly functionining system.


