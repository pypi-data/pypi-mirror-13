# $Id: leprisme.ini 64ce0a62af09 2015/12/02 14:47:48 Coraline $

# -----------------------------------------------------------------------------
[Initialization]
directories = Container~/OEBPS/Images, Container~/OEBPS/Audios,
              Container~/OEBPS/Videos
templates = Publidoc2XHtml, Publidoc2Html5, Publiquiz2Html5, Publidoc2EPub3

[template:Publidoc2XHtml]
path = Container~/OEBPS
exclude = annotation.png, go_previous.png, go_next.png, go_up.png, audio.png,
          video.png, reset.css

[template:Publidoc2Html5]
path = Container~/OEBPS
exclude[!aud] = Js, Images
exclude[!aud_custom] = Js, Images

[template:Publiquiz2Html5]
path = Container~/OEBPS
exclude[!matching_link] = publiquiz_matching_link.js
exclude[!mip] = publiquiz_mip.js

[template:Publidoc2EPub3]
path = Container~

# -----------------------------------------------------------------------------
[Input]
file_regex = \.xml$
content_regex = <(publiquiz|composition)
validate = true

[RelaxNG]
publiset = %(here)s/RelaxNG/publiset.rng
publidoc = %(here)s/RelaxNG/publidoc.rng
publiquiz = %(here)s/RelaxNG/publiquiz.rng

# -----------------------------------------------------------------------------
[Transformation]
xsl = %(here)s/Xsl/publiquiz2epub3.xsl

# -----------------------------------------------------------------------------
[Output]
make_id = xmlid
format = %(fid)s.epub
container = OCF

[container:OCF]
root = Container~
manifest = OEBPS/package.opf://opf:manifest
checker = java -jar %(here)s/jars/epubcheck.jar %(ocffile)s
